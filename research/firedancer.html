<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Mon Jan 15 2024 09:41:59 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6594648c93a3b9c37237b611" data-wf-site="6594359b0f0aa758b21d5c90">
<head>
  <meta charset="utf-8">
  <title>Firedancer</title>
  <meta content="Firedancer" property="og:title">
  <meta content="Firedancer" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/asxn_res_webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Ubuntu:300,300italic,400,400italic,500,500italic,700,700italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body>
  <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
    <div class="container w-container">
      <nav role="navigation" class="nav-menu w-nav-menu">
        <a href="index.html" class="w-nav-link">Research</a>
      </nav>
      <div class="w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <section class="section-4">
    <div class="w-layout-blockcontainer w-container">
      <h1 class="heading-5">Firedancer: Consensus at the Speed of Light</h1>
      <div>Written by 0xMunehisa &amp; Aloha<br><br>13th of November 2023</div>
    </div>
  </section>
  <section class="section-3">
    <div class="w-layout-blockcontainer w-container">
      <div class="text-block"><strong>Introduction<br><br>‍</strong>At Solana Breakpoint, Firedancer, the highly anticipated new validator client, launched on testnet. Initial tests indicate that Firedancer shows 10 to 100 times greater performance than the existing Solana Labs client.<br><br>‍<strong>Solana Client Ecosystem<br><br>‍</strong>Firedancer is a validator client, i.e. software that validators run which are crucial for the consensus process, e.g. proposing and attesting blocks. Currently, in the Solanae ecosystem there are two active clients; the Solana Labs client &amp; the Jito client, making Solana the only other major chain apart from Ethereum that has multiple clients. </div><img src="images/solana-client-diversity.png" loading="lazy" sizes="(max-width: 479px) 100vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, 868px" srcset="images/solana-client-diversity-p-500.png 500w, images/solana-client-diversity-p-800.png 800w, images/solana-client-diversity.png 868w" alt="" class="image">
      <div>The Solana Labs client was launched by the Solana team back in March of 2020, when they had little resources, lacking the human capital and the time it’d take to build a high performance client like Firedancer. They also were unable to see the client perform in practice and this led to design choices that in hindsight could be optimised. The Jito client on the other hand is a much newer client, optimised for MEV on Solana. Similar to Ethereum’s MEV geth client, the Jito client enables searchers and validators to extract MEV within blocks. However, Solana block production doesn’t function like the Ethereum ecosystem, Solana’s blocks are streamed continuously, meaning there is no Solana mempool, which makes the auction period where searches can bid for MEV opportunities complicated. Jito solves this issue by creating a pseudo mempool allowing searches to view transactions and submit bundles to Jito’s block engine.<br><br>‍<strong>Client Interoperability<br><br>‍</strong>One question we had was how is the Solana Labs client (and it’s fork, the Jito client) interoperable with Firedancer? Theoretically, Firedancer would process transactions much faster, leaving the slower and more inefficient clients left behind in block propagation and the state of the chain. Anatoly talks <a href="https://x.com/aeyakovenko/status/1720418221168246939?s=20">here</a> about how Firedancer optimizations can proliferate the existing clients, allowing them to increase their high throughput so that it matches Firedancers. An example of this is Jito’s plan to create JitoDancer; the Jito client with the necessary optimisations to function alongside Firedancer. <br><br>‍<strong>Firedancer Overview<br><br>‍</strong>This leads us to Firedancer. Developed by a team from the high frequency trading and market making firm, Jump Group, Firedancer was built to optimise the software inefficiencies of the Solana labs client, creating a truly performant validator that is only bottlenecked by the client’s hardware. Jump rewrote the software from the ground up, opting to write it in the C programming language (for high hardware performance and reliability). While the client is written in C, it is still interoperable with the Solana Labs &amp; Jito Labs clients, despite them being written in Rust. Further, the Firedancer client will work with current Solana validator hardware so users will not need to switch to new machines.<strong><br><br>Firedancer Stack<br><br>‍</strong>Firedancer rewrites 3 major functional components from the existing Solana Labs client; the Networking, Runtime and Consensus components. Each of these components are optimised in order to bring the client to its hardware limit, without the software debt that the current Solana Labs client inhibits. </div>
      <div class="w-layout-blockcontainer container-2 w-container"><img src="images/Firedancer-stack.png" loading="lazy" alt="" class="image"></div>
      <div><strong>Networking<br><br>‍</strong>The networking component within Firedancer handles anything over the internet. That includes receiving incoming and outgoing networking activities:<br><br>1. <strong><em>Inbound</em></strong> - Receiving transactions from users<br>‍<br>2. <strong><em>Outbound</em></strong> - Block packing, create &amp; signature verification, sending shreds (portion of a ledger entry)<br><br>‍<strong>Run Time<br><br>‍</strong>The runtime component is essentially the Solana Virtual Machine (SVM), which is used to execute transactions and other actions submitted by users whilst preserving the state of the chain between executions. The SVM:<br><br>1. Validates that a program / transaction only executed operations it was permitted to and prevents double spending.<br><br>2. The SVM’s “Sealevel” enables parallel processing of transactions with non-competing state. This is possible as runtime must be told which accounts /state are involved in a transaction before it occurs  - so that thousands of non-overlapping transactions can be executed in parallel. More on the SVM <a href="https://squads.so/blog/solana-svm-sealevel-virtual-machine">here</a>.<br><br>At a high level, the SVM organises the balances and state transitions as a result of users making transactions. It is able to do this at record speeds due to parallel processing.<br>‍<br><br>‍<strong>Consensus<br><br>‍</strong>The consensus component of Firedancer handles voting, selection of forks &amp; making sure that the chain is secure and all transactions are valid.<br><br>Solana utilises a Proof of History consensus mechanism, which proves and event occurred at a specific moment in time (E.g. before this X and after Y, change this state). This is enabled by each validator node maintaining their own internal clock &amp; encoding the passage of time via a SHA-256, sequential-hashing verifiable delay function.<br><br>Simply, validators process information and with the information they include a timestamp of when that information was received, allowing for sequential ordering of transactions / state changes post processing.<br>‍<br><br>‍<strong>Scaling Solana<br><br>‍</strong>The resultant effect of these optimisations is that Solana scaling will be bottlenecked by the hardware clients are running and not the software. Therefore, as hardware and bandwidth scale, Solana will scale. This is a particularly attractive way for a chain to scale since it’ll benefit from Moore’s law, although not with a 1-1 correlation.<br><br>Coined by the co-founder (Gordon Moore) of Intel in 1965, Moore’s law is the observation that the number of transistors on a microchip (or integrated circuit) doubles approximately every two years, leading to an exponential increase in computing power and a decrease in the cost per transistor. A fully fledged version of Firedancer would therefore scale with a close relationship to the number of transistors in a microchip, since this is closely related to the number of cores a validator can run.</div><img src="images/Moores-Law.png" loading="lazy" sizes="(max-width: 479px) 100vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, 940px" srcset="images/Moores-Law-p-500.png 500w, images/Moores-Law-p-800.png 800w, images/Moores-Law.png 959w" alt="" class="image">
      <div>The actual scaling works a bit like this (although there are other factors to consider): <br><br>‍<strong><em>More transistors = more ‘real estate’ for chip designers to work with = more ability to add cores = higher data throughput of Solana</em></strong></div><img src="images/solana-scaling.png" loading="lazy" sizes="(max-width: 479px) 100vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, 940px" srcset="images/solana-scaling-p-500.png 500w, images/solana-scaling-p-800.png 800w, images/solana-scaling-p-1080.png 1080w, images/solana-scaling.png 1513w" alt="" class="image">
      <div>With no software limits, Solana can now scale with bandwidth and hardware. This, in our opinion, is one of the more elegant and pragmatic ways to scale a blockchain whilst maintaining a sufficient level of decentralisation.<br><br>‍<strong>Firedancer Statistics<br><br>Network Statistics<br><br>‍</strong>Early simulations of Firedancer’s network capability (receiving transactions from users to the lead validator) showcase this almost linear scaling with the number of cores on the node’s hardware:</div><img src="images/fd-performance.png" loading="lazy" sizes="(max-width: 479px) 100vw, (max-width: 767px) 97vw, (max-width: 991px) 728px, 940px" srcset="images/fd-performance-p-500.png 500w, images/fd-performance-p-800.png 800w, images/fd-performance.png 978w" alt="" class="image">
      <div>We can see that as the number of cores increases, the bandwidth increases almost linearly. This means that if you double the number of cores on your hardware, you almost double the number of transactions the lead validator receives in the same period of time. <br><br>The early network simulations demonstrated at Breakpoint show that 1 million transactions per second can be received per core (25Bps bandwidth) by the lead validator. Therefore users could stream 1 million transactions in a single second to the lead validator if the validator is running just a single core. For reference, the recommended number of cores for a Solana node right now is 12, which you can find <a href="https://docs.solana.com/running-validator/validator-reqs">here</a>.<br><br>Unfortunately, receiving transactions is only half of the battle when it comes to Firedancers networking function, the nodes also need to create blocks and propagate them to the network.<strong> </strong>An early-stage demonstration of the outbound network capacity showcased 6 Gbps per Tile (Core).</div>
      <div class="w-layout-blockcontainer container-3 w-container"><img src="images/throughput.png" loading="lazy" sizes="(max-width: 479px) 100vw, (max-width: 738px) 97vw, 716px" srcset="images/throughput-p-500.png 500w, images/throughput.png 716w" alt="" class="image"></div>
      <div>If successful, Firedancer will be the highest throughput chain by a factor of 10x. The next generation Move chains like Sui, Aptos &amp; Sei currently process ~100 MB/s of data and Celestia, the main competitor in the modular approach to scaling processes just 1.4 MB/s.<strong><br><br></strong>Frankendancer<strong><br><br>‍</strong>Frankendancer as it’s being coined is the current version of Firedancer that is currently on testnet. Instead of running the full Firedancer stack with networking, runtime and consensus functional components, it runs a mixture of the Solana Labs client and the new Firedancer client. The networking function component in Frankendancer is from Firedancer, allowing for a greatly increased number of received inbound transactions to the node and also faster processing in the form of quicker block propagation via the outbound networking code. The rest of the node’s core functions are written in Rust and pulled from the Solana Labs client, this is the Runtime and Consensus components.</div>
      <div class="w-layout-blockcontainer container-4 w-container"><img src="images/frankendancer.png" loading="lazy" sizes="(max-width: 479px) 100vw, (max-width: 735px) 97vw, 713px" srcset="images/frankendancer-p-500.png 500w, images/frankendancer.png 713w" alt="" class="image"></div>
      <div><strong>Timeline<br><br>‍</strong>Frankendancer Mainnet - H1 2024<br><br>Full Firedancer Testnet - H2 2024</div>
      <div class="w-layout-blockcontainer container-6 w-container">
        <a href="https://www.asxn.xyz/" class="button w-button">Subscribe to ASXN&#x27;s Newsletter</a>
        <a href="https://twitter.com/asxn_r" class="button w-button">Follow ASXN on Twitter</a>
      </div>
    </div>
    <div class="w-layout-blockcontainer container-5 w-container"><img src="images/asxn-crest.jpeg" loading="lazy" sizes="(max-width: 479px) 92vw, 300px" srcset="images/asxn-crest-p-500.jpeg 500w, images/asxn-crest-p-800.jpeg 800w, images/asxn-crest-p-1080.jpeg 1080w, images/asxn-crest-p-1600.jpeg 1600w, images/asxn-crest-p-2000.jpeg 2000w, images/asxn-crest.jpeg 2481w" alt="" class="image crest"></div>
    <div class="w-layout-blockcontainer w-container">
      <div class="text-block-2"><strong>Disclaimer:</strong><em><br><br>The information and services above are not intended to and shall not be used as investment advice.You should consult with financial advisors before acting on any of the information and services. ASXN and ASXN staff are not investment advisors, do not represent or advise clients in any matter and are not bound by the professional responsibilities and duties of a financial advisor. Nothing in the information and service, nor any receipt or use of such information or services, shall be construed or relied on as advertising or soliciting to provide any financial services.</em></div>
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6594359b0f0aa758b21d5c90" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
</body>
</html>